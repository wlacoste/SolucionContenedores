"use strict";(self.webpackChunkvisualizador=self.webpackChunkvisualizador||[]).push([[520],{2520:function(e,o,n){n.r(o),n.d(o,{ContenedorContext:function(){return W},default:function(){return U}});var i=n(9439),r=n(2791),t=n(7773),a=n(2095),c=n(8029),s=n(2770),l=n(3520),d=n(5892),u=n(7760),m=n(184),p=function(e){return new u.Vector3(e.length/2,e.height/2,e.width/2)};function h(e){var o=e.contenedor,n=(0,r.useMemo)((function(){return{wireFrame:!0,color:{value:"#001f47"},opacity:{value:.5,min:0,max:1,step:.1}}}),[]),t=(0,c.M4)("Contenedor",n),a=(0,r.useState)(!1),s=(0,i.Z)(a,2),l=s[0],d=s[1];return(0,m.jsxs)("mesh",{position:p(o),scale:1,onPointerOut:function(e){return d(!1)},onPointerOver:function(e){return d(!0)},children:[(0,m.jsx)("boxGeometry",{args:[o.length,o.height,o.width]}),(0,m.jsx)("meshStandardMaterial",{color:l?"red":t.color,opacity:t.opacity,transparent:!0,wireframe:t.wireFrame})]})}var v="estilos_divContainer__H16U2",x="estilos_GeometryContainer__XJQ4F",f="estilos_leva__c0hXM",j=n(1413);var g=function(e){var o=(0,r.useRef)(),n=(0,r.useState)(!1),t=(0,i.Z)(n,2),a=(t[0],t[1]);return(0,r.createElement)("mesh",(0,j.Z)((0,j.Z)({},e),{},{key:e.ikey+"C",ref:o,scale:1,onPointerOut:function(e){return a(!1)},onPointerOver:function(e){return a(!0)}}),(0,m.jsx)("boxGeometry",{args:e.scale}),e.esmaterial?(0,m.jsx)("meshPhysicalMaterial",(0,j.Z)((0,j.Z)({},e),{},{castShadow:!0,receiveShadow:!0,transparent:!0}),e.ikey+e.ikey):(0,m.jsx)("meshNormalMaterial",{opacity:.75,transparent:!0,wireframe:e.wireframe}))},_=function(e){return[(0,c.M4)("Paquetes 1",{color:"#6B9FFF"}),(0,c.M4)("Paquetes 2",{color:"#EF67F5"}),(0,c.M4)("Paquetes 3",{color:"#6DE896"}),(0,c.M4)("Paquetes 4",{color:"#FFF36B"}),(0,c.M4)("Paquetes 5",{color:"#F58D50"})]};function b(e){var o=(0,r.useMemo)((function(){return{material:!1,opacidad:{value:.7,min:0,max:1,step:.1},ior:{value:1.33,min:1,max:2.333,step:.01},transmision:{value:0,min:0,max:1,step:.01},rugosidad:{value:0,min:0,max:1,step:.01},grosor:{value:10,min:0,max:20,step:.5}}}),[]),n=(0,c.M4)("Paquetes",o),i=_(e.map((function(e){return e.id})));return e.map((function(e,o){return(0,m.jsx)(g,{color:i[e.id-1].color,esmaterial:n.material,ior:n.ior,nombre:e.id,opacity:n.opacidad,position:q(e),roughness:n.rugosidad,scale:[e.packDimX-.1,e.packDimY-.1,e.packDimZ-.1],thickness:n.grosor,transmission:n.transmision,wireframe:!1},o)}))}var q=function(e){return[e.coordX+e.packDimX/2,e.coordY+e.packDimY/2,e.coordZ+e.packDimZ/2]};(0,t.e)({TextGeometry:a.M});var C=function(e){var o=e.cajas,n=e.contenedor;console.log("contenedores en geometry container",n);var i=(0,r.useMemo)((function(){return{intensity:{value:0,min:0,max:10,step:.5},x:{value:0,min:-100,max:100,step:5},y:{value:0,min:-100,max:100,step:5},z:{value:100,min:-100,max:100,step:5},ambientLightOn:{value:0,min:0,max:1,step:1},background:!1}}),[]),t=(0,c.M4)("Luz",i);return(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)("section",{className:x,children:(0,m.jsxs)(d.Xz,{shadows:!0,camera:{position:[20,50,100],fov:50},children:[(0,m.jsx)(s.qA,{background:t.background,blur:.1,files:"./img/thatch_chapel_1k.hdr"}),(0,m.jsx)("directionalLight",{castShadow:!0,intensity:t.intensity,position:[t.x,t.z,t.y],"shadow-camera-bottom":-10,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-mapSize-height":1024,"shadow-mapSize-width":1024}),b(o),(0,m.jsx)(h,{contenedor:n}),(0,m.jsx)("gridHelper",{args:[500,50,15597568,15658734]}),(0,m.jsx)("axesHelper",{args:[5]}),(0,m.jsx)(l.z,{}),(0,m.jsx)("primitive",{object:new u.AxesHelper(500)})]})}),(0,m.jsx)("div",{className:f,children:(0,m.jsx)(c.Zf,{collapsed:!0,fill:!0,theme:{colors:{elevation1:"#d71920",elevation2:"#fcfdff",elevation3:"#e1e3e8",accent1:"#dbdbdb",accent2:"#ff3939",accent3:"#fafafa",highlight1:"#ffffff",highlight2:"#404248",highlight3:"#655656",vivid1:"#ffcc00"}}})})]})},k=n(6579),y=n(4781),w=n(7246);var I={root:"estilos_root__ze2yo",items:"estilos_items__75PAv",listParent:"estilos_listParent__Xy2fR",titulo:"estilos_titulo__GmFg8"},Z=function(e){return function(e){return e.dim1===e.packDimX&&e.dim3===e.packDimY&&e.dim2===e.packDimZ}(e)?"":"rotado"},N=function(e){if(void 0==e)return"";var o=function(e){var o={};return e.forEach((function(e){o[e.id]=(o[e.id]||0)+1})),o}(e),n=Object.keys(o).map((function(n,i){var r=e.find((function(e){return e.id.toString()===n}));return(0,m.jsxs)("div",{className:I.items,children:[(0,m.jsx)("h4",{children:"Id ".concat(n," : cantidad ").concat(o[n])}),(0,m.jsxs)("p",{children:["Dimensiones: ".concat(null===r||void 0===r?void 0:r.dim1,"x").concat(null===r||void 0===r?void 0:r.dim2,"x").concat(null===r||void 0===r?void 0:r.dim3,".\n        Volumen unitario: ").concat(null===r||void 0===r?void 0:r.volume)," "]}),(0,m.jsx)("div",{className:I.listParent,children:(0,m.jsx)("ul",{children:e.map((function(e,o){if(e.id.toString()===n&&e.isPacked)return(0,m.jsx)("li",{children:" ".concat(e.coordX,",").concat(e.coordZ,",").concat(e.coordY," ").concat(Z(e))},"".concat(i).concat(o))}))})})]},i)}));return(0,m.jsx)("div",{children:n})};function P(e){var o=e.packingResult,n=e.contenedor;return(0,m.jsxs)("div",{className:I.root,children:[(0,m.jsx)("h4",{children:"Contenedor ".concat(n.id)}),(0,m.jsx)("span",{children:"".concat(n.length," x ").concat(n.width," x ").concat(n.height)}),(0,m.jsx)("p",{children:"Packing Completo: ".concat(o.isCompletePack)}),(0,m.jsx)("p",{children:"Contenedor ocupado: ".concat(o.percentContainerVolumePacked,"%")}),(0,m.jsx)("p",{children:"Volumen empacado: ".concat(o.percentItemVolumePacked,"%")}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"Items empaquetados"}),N(o.packedItems)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"Items no empaquetados"}),N(o.unpackedItems)]})]})}var F={solucionContenedor:"estilos_solucionContenedor__4CsUc"};function R(){var e=(0,r.useState)(1),o=(0,i.Z)(e,2),n=o[0],t=o[1],a=(0,k.C)(y.FF),c=a.data,s=Math.ceil(c.length/1),l=1*n,d=l-1,u=c.slice(d,l),p=(0,r.useContext)(W),h=(0,i.Z)(p,2),v=h[0];h[1];if(void 0==a||0==a.data.length)return(0,m.jsx)("div",{children:(0,m.jsx)(C,{cajas:[],contenedor:{id:0,length:0,height:0,width:0,volume:0}})});var x;return(0,m.jsxs)("div",{children:[(0,m.jsx)(w.Z,{count:s,page:n,onChange:function(e,o){t(o)}}),(0,m.jsx)("section",{className:F.cardContainer,children:(x=u,x.map((function(e,o){var n=e.map((function(e,n){var i=function(e,o){var n=o.filter((function(o){return o.id===e}));return 0===n.length?{id:1,length:10,height:10,width:10,volume:10}:n[0]}(e.containerID,v);return e.algorithmPackingResults.map((function(e,r){return(0,m.jsxs)("div",{className:F.solucionContenedor,children:[(0,m.jsx)(C,{cajas:e.packedItems,contenedor:i}),(0,m.jsx)(P,{contenedor:i,packingResult:e})]},"{".concat(o," + ").concat(n," + ").concat(r))}))}));return n})))})]})}var D=n(4165),z=n(5861),M=n(791),B=n(3966),S=n(515),V=n(1134),X=n(8007),T=n(4695),A=n(7108),L=n(9968),O={tarjetaform:"Input_tarjetaform__IpTIm",iconosBlock:"Input_iconosBlock__WJmNI",formRoot:"Input_formRoot__NgtCz",iconosRoot:"Input_iconosRoot__WoOfs",iconoDiv:"Input_iconoDiv__sP+mu",iconoDi:"Input_iconoDi__RDGhZ",input:"Input_input__hFO5b",input2:"Input_input2__7Vn3f",cantidad:"Input_cantidad__We56L",label:"Input_label__LfLCO",bottonForm:"Input_bottonForm__+bGnx",iconButton:"Input_iconButton__rNb3y"},G=(0,X.Ry)().shape({paquete:(0,X.IX)().of((0,X.Ry)().shape({largo:(0,X.Rx)().required("Campo requerido").min(.001),ancho:(0,X.Rx)().required("Campo requerido").min(.001),alto:(0,X.Rx)().required("Campo requerido").min(.001),cantidad:(0,X.Rx)().integer().positive().min(1).required("Campo requerido")})),contenedor:(0,X.IX)().of((0,X.Ry)().shape({largo:(0,X.Rx)().required("Campo requerido").min(.001),ancho:(0,X.Rx)().required("Campo requerido").min(.001),alto:(0,X.Rx)().required("Campo requerido").min(.001)}))}),E=function(e){return{id:e.id,length:e.largo,height:e.alto,width:e.ancho,volume:e.largo*e.alto*e.ancho}};function H(){var e=(0,k.T)(),o=(0,r.useContext)(W),n=(0,i.Z)(o,2),t=(n[0],n[1]),a=(0,V.cI)({defaultValues:{paquete:[{largo:null,ancho:null,alto:null,cantidad:null}],contenedor:[{largo:null,ancho:null,alto:null}]},resolver:(0,T.X)(G)}),c=a.register,s=a.handleSubmit,l=a.formState.errors,d=a.control,u=(0,V.Dq)({control:d,name:"paquete"}),p=u.fields,h=u.prepend,v=u.remove,x=(0,V.Dq)({control:d,name:"contenedor"}),f=x.fields,g=x.prepend,_=x.remove,b=function(){var o=(0,z.Z)((0,D.Z)().mark((function o(n){var i,r,a,c;return(0,D.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=n.paquete,r=n.contenedor,i.forEach((function(e,o){e.id=o+1})),r.forEach((function(e,o){e.id=o+1})),0!==r.length){o.next=6;break}return o.abrupt("return");case 6:a=r.map((function(e){return E(e)})),t((function(){return a})),c={paquetes:i,contenedores:a},e((0,L._)(c));case 10:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}();return(0,m.jsx)("div",{className:O.formRoot,children:(0,m.jsxs)("form",{onSubmit:s((function(e){b(e)})),children:[(0,m.jsxs)("div",{className:O.formulario,children:[(0,m.jsxs)("div",{className:O.bottonForm,children:[(0,m.jsx)(M.z,{color:"primary",disableRipple:!0,text:"Calcular empaquetado",type:"submit",variant:"contained",onFocusVisible:function(){}}),(0,m.jsx)(B.h,{IconProps:{icon:A.r8p},TooltipText:"",className:O.iconButton,color:"primary",size:"small",onClick:function(){h({largo:null,ancho:null,alto:null,cantidad:null})},onFocusVisible:function(){}})]}),p.map((function(e,o){var n,i,r,t;return(0,m.jsxs)("div",{children:[(0,m.jsx)(Y,{debeRenderizar:o,isCaja:!0}),(0,m.jsxs)("section",{className:O.formRoot,children:[(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Largo":"",placeholder:"largo",type:"number"},c("paquete.".concat(o,".largo"),{required:!0})),{},{error:Boolean(void 0!=l.paquete&&(null===(n=l.paquete[o])||void 0===n?void 0:n.largo)),inputProps:{min:0}}))}),(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Ancho":"",placeholder:"ancho",type:"number"},c("paquete.".concat(o,".ancho"),{required:!0})),{},{error:Boolean(l.paquete&&(null===(i=l.paquete[o])||void 0===i?void 0:i.ancho)),inputProps:{min:0}}))}),(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Alto":"",placeholder:"alto",type:"number"},c("paquete.".concat(o,".alto"),{required:!0})),{},{error:Boolean(l.paquete&&(null===(r=l.paquete[o])||void 0===r?void 0:r.alto)),inputProps:{min:0}}))}),(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Cantidad":"",placeholder:"cantidad",type:"number"},c("paquete.".concat(o,".cantidad"),{required:!0})),{},{error:Boolean(l.paquete&&(null===(t=l.paquete[o])||void 0===t?void 0:t.cantidad)),inputProps:{min:1}}))}),(0,m.jsx)(B.h,{IconProps:{icon:A.XAH},TooltipText:"",color:"primary",size:"medium",onClick:function(){v(o)},onFocusVisible:function(){}})]})]},e.id)}))]}),(0,m.jsxs)("div",{className:O.formulario,children:[(0,m.jsx)("div",{className:O.bottonForm,children:(0,m.jsx)(B.h,{IconProps:{icon:A.r8p},TooltipText:"",className:O.iconButton,color:"primary",size:"small",onClick:function(){g({largo:null,ancho:null,alto:null})},onFocusVisible:function(){}})}),f.map((function(e,o){var n,i,r;return(0,m.jsxs)("div",{children:[(0,m.jsx)(Y,{debeRenderizar:o,isCaja:!1}),(0,m.jsxs)("section",{className:O.formRoot,children:[(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Largo":"",placeholder:"largo",type:"number"},c("contenedor.".concat(o,".largo"),{required:!0})),{},{error:Boolean(void 0!=l.contenedor&&(null===(n=l.contenedor[o])||void 0===n?void 0:n.largo)),inputProps:{min:0}}))}),(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Ancho":"",placeholder:"ancho",type:"number"},c("contenedor.".concat(o,".ancho"),{required:!0})),{},{error:Boolean(l.contenedor&&(null===(i=l.contenedor[o])||void 0===i?void 0:i.ancho)),inputProps:{min:0}}))}),(0,m.jsx)("div",{className:O.input,children:(0,m.jsx)(S.I,(0,j.Z)((0,j.Z)({label:0==o?"Alto":"",placeholder:"alto",type:"number"},c("contenedor.".concat(o,".alto"),{required:!0})),{},{error:Boolean(l.contenedor&&(null===(r=l.contenedor[o])||void 0===r?void 0:r.alto)),inputProps:{min:0}}))}),(0,m.jsx)(B.h,{IconProps:{icon:A.XAH},TooltipText:"",color:"primary",size:"medium",onClick:function(){_(o)},onFocusVisible:function(){}})]})]},e.id)}))]})]})})}function Y(e){var o=e.debeRenderizar,n=e.isCaja;return 0!==o?(0,m.jsx)(m.Fragment,{}):n?(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{children:"Cajas"}),(0,m.jsxs)("div",{className:O.formRoot,children:[(0,m.jsx)("div",{className:O.iconoDi,children:(0,m.jsx)("img",{alt:"",src:"https://componentesui.blob.core.windows.net/recursos/iconografia-gla/descripcion-de-envio/relleno/svg/profundidad.svg"})}),(0,m.jsx)("div",{className:O.iconoDi,children:(0,m.jsx)("img",{alt:"",src:"https://componentesui.blob.core.windows.net/recursos/iconografia-gla/descripcion-de-envio/relleno/svg/ancho.svg"})}),(0,m.jsx)("div",{className:O.iconoDi,children:(0,m.jsx)("img",{alt:"",src:"https://componentesui.blob.core.windows.net/recursos/iconografia-gla/descripcion-de-envio/relleno/svg/altura.svg"})})]})]}):(console.log("indice",o),(0,m.jsx)("h3",{children:"Contenedores"}))}var J={root:"Visualizador_root__wkLY2",inputForm:"Visualizador_inputForm__4o+JI"},W=r.createContext([[],function(){}]);function U(){var e=(0,r.useState)([{id:0,width:10,length:10,height:10,volume:1e3}]),o=(0,i.Z)(e,2),n=o[0],t=o[1];return(0,m.jsx)("div",{className:J.root,children:(0,m.jsxs)(W.Provider,{value:[n,t],children:[(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:J.inputCajas,children:(0,m.jsx)(H,{})})}),(0,m.jsx)(R,{})]})})}}}]);
//# sourceMappingURL=520.3c1b85c2.chunk.js.map